)]}'
{"version":3,"sources":["assets/js/app.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["(function() {\n\n  var isMobile = /Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile/.test(window.navigator.userAgent);\n\n  $.ajax('/standings').done(showStandings);\n\n  function showStandings(json) {\n    var template = Handlebars.compile($('[data-template-name=\"standings\"]').html());\n    var html = template(json);\n    $('.standings .content').html(html);\n  }\n\n\n  if (isMobile) {\n    $('.standing-toggle').click(function(e) {\n      e.preventDefault();\n      $('.standings .content').toggleClass('show');\n    });\n  }\n\n  if (isMobile) {\n    initScrollPreload();\n  }\n\n  function initVideo($link) {\n    var img = $link.find('img');\n    var href = $link.attr('href');\n    $link.addClass('preloading');\n    $.get(href).done(function(data) {\n      if (data.video) {\n        $link.replaceWith('<video class=\"video-player\" controls poster=\"' + data.thumbnailUrl + '\" src=\"' + data.video + '\"></video>');\n      }\n    });\n  }\n\n  function getVideosByScroll(y) {\n    return $('li.video').filter(function() {\n      return $(this).offset().top > y\n    }).slice(0, 5);\n  }\n\n  function initScrollPreload() {\n    var timer;\n    tryPreload();\n\n    function tryPreload() {\n      var videos = getVideosByScroll(window.scrollY);\n      videos.each(function() {\n        var videoLink = $(this).find('[data-preload=\"true\"]:not(.preloading)');\n        initVideo(videoLink);\n      });\n    }\n\n    window.onscroll = function() {\n      clearTimeout(timer);\n      timer = setTimeout(tryPreload, 200);\n    };\n  }\n\n})();"],"sourceRoot":"/"}